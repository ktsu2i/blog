---
import MobileNav from "./MobileNav.tsx";
import ThemeToggle from "./ThemeToggle.tsx";

const navItems = [
  { href: "/blog", label: "Blog" },
  { href: "/talks", label: "Talks" },
  { href: "/about", label: "About" },
];

const pathname = Astro.url.pathname;
---

<header class="sticky top-0 z-40 border-b bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60">
  <div class="mx-auto flex h-14 max-w-4xl items-center justify-between px-6">
    <a href="/" class="text-lg font-bold">
      ktsu2i.dev
    </a>
    <nav class="hidden items-center gap-6 md:flex">
      {navItems.map((item) => (
        <a
          href={item.href}
          class:list={[
            "text-sm transition-colors hover:text-foreground",
            pathname.startsWith(item.href)
              ? "text-foreground font-medium"
              : "text-muted-foreground",
          ]}
        >
          {item.label}
        </a>
      ))}
      <ThemeToggle client:load />
    </nav>
    <div class="flex items-center gap-1 md:hidden">
      <ThemeToggle client:load />
      <MobileNav client:media="(max-width: 768px)" />
    </div>
  </div>
</header>
