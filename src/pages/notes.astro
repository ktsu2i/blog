---
import BaseLayout from "../layouts/BaseLayout.astro";
import PostCard from "../components/post/PostCard.astro";
import { listAllPosts } from "../lib/feed";

const posts = await listAllPosts();
const externalPosts = posts.filter((p) => p.source !== "local");
---

<BaseLayout title="Notes" description="外部記事まとめ">
  <div class="space-y-6">
    <div>
      <h1 class="text-3xl font-bold tracking-tight">Notes</h1>
      <p class="mt-2 text-muted-foreground">
        外部メディアに投稿した記事の一覧です。
      </p>
    </div>
    <div class="space-y-4">
      {externalPosts.map((post) => (
        <PostCard post={post} />
      ))}
      {externalPosts.length === 0 && (
        <p class="text-muted-foreground">記事がありません。</p>
      )}
    </div>
  </div>
</BaseLayout>
